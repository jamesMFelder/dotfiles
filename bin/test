#! /usr/bin/python
file=open("/dev/input/event1")
keymap={
'\x2c': 'z',
'\x2d': 'x',
'\x2e': 'c',
'\xc8': 'UP',
'\xd0': 'DOWN',
'\xcb': 'LEFT',
'\xcd': 'RIGHT',
'\x10': 'q',
'\x11': 'w',
'\x12': 'e',
'\x01': 'ESC',
'\x2a': 'LSHIFT',
'\x1c': 'ENTER',
}
while True:
    event=file.read(48)
    if event[28] == '\x01':
        state="pressed:"
    elif event[28] == '\x00':
        state="released:"
    else:
        continue
    if event[12] in keymap:
        print state, keymap[event[12]]
file.close()
